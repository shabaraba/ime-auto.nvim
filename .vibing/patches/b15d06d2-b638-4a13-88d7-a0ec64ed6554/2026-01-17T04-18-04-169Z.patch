diff --git a/lua/ime-auto/ime.lua b/lua/ime-auto/ime.lua
index cc24ab2..4dfb153 100644
--- a/lua/ime-auto/ime.lua
+++ b/lua/ime-auto/ime.lua
@@ -49,7 +49,11 @@ local function ime_control_macos(action)
       if not result then
         return false
       end
-      return (result:match("Japanese") or result:match("Hiragana") or result:match("Katakana") or result:match(ja_source)) ~= nil
+      local is_japanese = result:match("Japanese") or result:match("Hiragana") or result:match("Katakana")
+      if ja_source and not is_japanese then
+        is_japanese = result:match(ja_source)
+      end
+      return is_japanese ~= nil
     end
   elseif tool == "im-select" then
     if action == "off" then
@@ -61,7 +65,11 @@ local function ime_control_macos(action)
       if not result then
         return false
       end
-      return (result:match("Japanese") or result:match("Hiragana") or result:match("Katakana") or result:match(ja_source)) ~= nil
+      local is_japanese = result:match("Japanese") or result:match("Hiragana") or result:match("Katakana")
+      if ja_source and not is_japanese then
+        is_japanese = result:match(ja_source)
+      end
+      return is_japanese ~= nil
     end
   else
     -- Default: osascript (built-in)
